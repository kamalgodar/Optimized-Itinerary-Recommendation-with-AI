{% extends 'map/base.html' %}
{% load crispy_forms_tags %}
{% crispy searchform searchform.helper %}

{% block content %}
<form action="" method="post">
    {% csrf_token %}
    <div class="container p-2">
        {{ form|crispy }}
        <input type="submit" class="btn btn-primary mt-2" value="Search">
    </div>
</form>

<script>
    $( function() {
      var availableNames = [
          {% for place in places %}
              "{{place.name}}",
          {% endfor %}
      ];
      $( "#id_search" ).autocomplete({
        source: availableNames
      });
    } );
    </script>
{% endblock %}